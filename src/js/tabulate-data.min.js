function getRowID(a){var e=$("#"+a);return e.length>0?e.parent().parent()[0]:Number.MAX_VALUE}function addRow(a,e){table.fnAddData(e),displayedData[a]=e}function updateRow(a,e){var t=getRowID(a);t!==Number.MAX_VALUE&&table.fnUpdate(e,t),displayedData[a]=e}function deleteRow(a){var e=getRowID(a);e!==Number.MAX_VALUE&&table.fnDeleteRow(e),delete displayedData[a]}function updateTable(a){var e;for(e in a)displayedData[e]?updateRow(e,a[e]):addRow(e,a[e]);for(e in displayedData)a[e]||deleteRow(e)}function parseHash(){try{return JSON.parse(location.hash.substring(1))}catch(a){return{}}}function initTable(a){if(a.columnNames instanceof Array){$("#dataTable").append($(document.createElement("thead")).append($(document.createElement("tr"))));var e=$("#dataTable thead tr");a.columnNames.forEach(function(a){e.append($(document.createElement("th")).text(a))})}var t=["aoColumns","bPaginate","sScrollY","sPaginationType","aaSorting","bDestroy","bJQueryUI","bAutoWidth"],n={};Object.keys(a).forEach(function(e){-1!==t.indexOf(e)&&(n[e]=a[e])}),table=$("#dataTable").dataTable(n),initialisedTable=!0}function handleChangedHash(){var a=parseHash(),e=a.data,t=a.tableConfig;!initialisedTable&&t&&"object"==typeof t&&initTable(t),initialisedTable&&e&&"object"==typeof e&&updateTable(e)}var table,displayedData={},initialisedTable=!1;$(function(){jQuery.fn.dataTableExt&&(jQuery.fn.dataTableExt.oSort["percent-asc"]=function(a,e){var t="-"==a?0:a.replace(/%/,""),n="-"==e?0:e.replace(/%/,"");return t=parseFloat(t),n=parseFloat(n),n>t?-1:t>n?1:0},jQuery.fn.dataTableExt.oSort["percent-desc"]=function(a,e){var t="-"==a?0:a.replace(/%/,""),n="-"==e?0:e.replace(/%/,"");return t=parseFloat(t),n=parseFloat(n),n>t?1:t>n?-1:0},jQuery.fn.dataTableExt.oSort["currency-asc"]=function(a,e){var t="-"==a?0:a.replace(/,/g,""),n="-"==e?0:e.replace(/,/g,"");return t=t.match(/[\d\.]+/)[0],n=n.match(/[\d\.]+/)[0],t=parseFloat(t),n=parseFloat(n),t-n},jQuery.fn.dataTableExt.oSort["currency-desc"]=function(a,e){var t="-"==a?0:a.replace(/,/g,""),n="-"==e?0:e.replace(/,/g,"");return t=t.match(/[\d\.]+/)[0],n=n.match(/[\d\.]+/)[0],t=parseFloat(t),n=parseFloat(n),n-t}),$(window).bind("hashchange",function(){handleChangedHash()}),handleChangedHash()});